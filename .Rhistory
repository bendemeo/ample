#read refined FT data
pbmc_ft_refined = fread('target/experiments/pbmc_ft_refined_backup.txt')
pbmc_ft_refined$method = rep('Refined far traversal',nrow(pbmc_ft_refined))
pbmc_f = merge(pbmc_ft, pbmc_fb, all=TRUE)
pbmc_others = merge(pbmc_gs, pbmc_pcalsh, all=TRUE)
pbmc_temp = merge(pbmc_f, pbmc_others, all=TRUE)
pbmc_all = merge(pbmc_temp, pbmc_ft_refined, all=TRUE)
# pbmc_fb = merge(pbmc_adaptive, pbmc_fb, all=TRUE)
pbmc_all %>% filter(DIMRED %in% c(100, NA)) %>%
ggplot(aes(x=N, y=max_min_dist))+
geom_line(aes(color=method))
pbmc_all %>% filter(time<300) %>% group_by(method, N, DIMRED, gridSize) %>% summarize(time=mean(time)) %>%
ggplot(aes(x=N, y=time))+
geom_line(aes(color=factor(DIMRED), lty=method))
pbmc_all %>% filter( method=='Far traversal') %>% mutate(dimension = (log(N))/log((1/max_min_dist))) %>%
ggplot(aes(x=max_min_dist, y=dimension))+
geom_line()
#pbmc_gs$DIMRED = rep('Geometric Sketching', nrow(pbmc_gs))
#pbmc_fb$DIMRED = as.character(pbmc_fb$DIMRED)
mb_fb=fread('target/experiments/mouse_brain_fastball_fulldim_backup.txt')
colnames(pbmc_fb)[5] = 'gridSize'
pbmc_others = merge(pbmc_gs, pbmc_pcalsh, all=TRUE)
pbmc_all = merge(pbmc_others, pbmc_fb, all=TRUE)
pbmc_all = merge(pbmc_ft, pbmc_all, all=TRUE)
pbmc_temp %>%
filter(method %in% c('PC-DIMRED %in% c(2,3,5,10,20,100)) %>%
ggplot(aes(x=occSquares, y=max_min_dist))+
coord_cartesian(xlim=c(0,10000))+
geom_line(aes(color=factor(DIMRED), lty=method))+
geom_line(data=pbmc_others, aes(lty=method))+
xlab('Sketch size (out of 68K)')+
ylab('Hausdorff distance')+
scale_linetype_discrete(name='Other methods')+
scale_color_discrete(name='FastBall VP-tree \nbuilding dimension')+
ggtitle('PBMC data Hausdorff distances')
table(pbmc_temp$method)
pbmc_temp %>%
filter(method %in% c('PC-sketch','gs','Far Traversal'), DIMRED %in% c(2,3,5,10,20,100)) %>%
ggplot(aes(x=occSquares, y=max_min_dist))+
coord_cartesian(xlim=c(0,10000))+
geom_line(aes(color=factor(DIMRED), lty=method))+
geom_line(data=pbmc_others, aes(lty=method))+
xlab('Sketch size (out of 68K)')+
ylab('Hausdorff distance')+
scale_linetype_discrete(name='Other methods')+
scale_color_discrete(name='FastBall VP-tree \nbuilding dimension')+
ggtitle('PBMC data Hausdorff distances')
pbmc_temp %>%
filter(method %in% c('PC-sketch','gs','Far Traversal'), DIMRED %in% c(2,3,5,10,20,100)) %>%
ggplot(aes(x=N, y=max_min_dist))+
coord_cartesian(xlim=c(0,10000))+
geom_line(aes(color=factor(DIMRED), lty=method))+
geom_line(data=pbmc_others, aes(lty=method))+
xlab('Sketch size (out of 68K)')+
ylab('Hausdorff distance')+
scale_linetype_discrete(name='Other methods')+
scale_color_discrete(name='FastBall VP-tree \nbuilding dimension')+
ggtitle('PBMC data Hausdorff distances')
pdf('~/Documents/bergerlab/pbmc_hausdorff_tests.pdf', 8,5)
pbmc_temp %>%
filter(method %in% c('PC-sketch','gs','Far traversal'), DIMRED %in% c(2,3,5,10,20,100)) %>%
ggplot(aes(x=N, y=max_min_dist))+
coord_cartesian(xlim=c(0,10000))+
geom_line(aes(color=factor(DIMRED), lty=method))+
geom_line(data=pbmc_others, aes(lty=method))+
xlab('Sketch size (out of 68K)')+
ylab('Hausdorff distance')+
scale_linetype_discrete(name='Other methods')+
scale_color_discrete(name='FastBall VP-tree \nbuilding dimension')+
ggtitle('PBMC data Hausdorff distances')
pdf('~/Documents/bergerlab/pbmc_hausdorff_tests.pdf', 8,5)
pbmc_temp %>%
filter(method %in% c('PC-sketch','gs','Far traversal'), DIMRED %in% c(2,3,5,10,20,100)) %>%
ggplot(aes(x=N, y=max_min_dist))+
coord_cartesian(xlim=c(0,10000))+
geom_line(aes(color=factor(DIMRED), lty=method))+
geom_line(data=pbmc_others, aes(lty=method))+
xlab('Sketch size (out of 68K)')+
ylab('Hausdorff distance')+
scale_linetype_discrete(name='Other methods')+
scale_color_discrete(name='FastBall VP-tree \nbuilding dimension')+
ggtitle('PBMC data Hausdorff distances')
table(pbmc_temp$method)
pbmc_temp %>%
filter(method %in% c('PC-sketch','gs','Far traversal'), DIMRED %in% c(2,3,5,10,20,100)) %>%
ggplot(aes(x=N, y=max_min_dist))+
coord_cartesian(xlim=c(0,10000))+
geom_line()+
xlab('Sketch size (out of 68K)')+
ylab('Hausdorff distance')+
scale_linetype_discrete(name='Other methods')+
scale_color_discrete(name='FastBall VP-tree \nbuilding dimension')+
ggtitle('PBMC data Hausdorff distances')
pbmc_temp %>%
filter(method %in% c('PC-sketch','gs','Far traversal'), DIMRED %in% c(2,3,5,10,20,100)) %>%
ggplot(aes(x=N, y=max_min_dist))+
coord_cartesian(xlim=c(0,10000))+
geom_line(aes(lty=method))+
xlab('Sketch size (out of 68K)')+
ylab('Hausdorff distance')+
scale_linetype_discrete(name='Other methods')+
scale_color_discrete(name='FastBall VP-tree \nbuilding dimension')+
ggtitle('PBMC data Hausdorff distances')
pbmc_temp %>%
filter(method %in% c('PC-sketch','gs','Far traversal'), DIMRED %in% c(2,3,5,10,20,100)) %>%
ggplot(aes(x=N, y=max_min_dist))+
coord_cartesian(xlim=c(0,10000))+
geom_line(aes(lty=method))+
xlab('Sketch size (out of 68K)')+
ylab('Hausdorff distance')+
scale_linetype_discrete(name='Other methods')+
scale_color_discrete(name='FastBall VP-tree \nbuilding dimension')+
ggtitle('PBMC data Hausdorff distances')
pbmc_temp %>%
filter(method %in% c('PC-sketch','gs','Far traversal'), DIMRED %in% c(2,3,5,10,20,100)) %>%
ggplot(aes(x=N, y=max_min_dist))+
coord_cartesian(xlim=c(0,10000))+
geom_line(aes(lty=method))+
xlab('Sketch size (out of 68K)')+
ylab('Hausdorff distance')+
scale_linetype_discrete(name='Other methods')+
scale_color_discrete(name='FastBall VP-tree \nbuilding dimension')+
ggtitle('PBMC data Hausdorff distances')
dev.off()
pbmc_temp %>%
filter(method %in% c('PC-sketch','gs','Far traversal'), DIMRED %in% c(2,3,5,10,20,100)) %>%
ggplot(aes(x=N, y=max_min_dist))+
coord_cartesian(xlim=c(0,10000))+
geom_line(aes(lty=method))+
xlab('Sketch size (out of 68K)')+
ylab('Hausdorff distance')+
scale_linetype_discrete(name='Other methods')+
scale_color_discrete(name='FastBall VP-tree \nbuilding dimension')+
ggtitle('PBMC data Hausdorff distances')
pbmc_temp %>%
filter(method %in% c('PC-sketch','gs','Far traversal'), DIMRED %in% c(2,3,5,10,20,100)) %>%
ggplot(aes(x=N, y=max_min_dist))+
coord_cartesian(xlim=c(0,10000))+
geom_line(aes(lty=method))+
xlab('Sketch size (out of 68K)')+
ylab('Hausdorff distance')+
scale_linetype_discrete(name='Other methods')+
scale_color_discrete(name='FastBall VP-tree \nbuilding dimension')+
ggtitle('PBMC data Hausdorff distances')
dev.off()
dev.off()
pbmc_temp %>%
filter(method %in% c('PC-sketch','gs','Far traversal'), DIMRED %in% c(2,3,5,10,20,100)) %>%
ggplot(aes(x=N, y=max_min_dist))+
coord_cartesian(xlim=c(0,10000))+
geom_line(aes(lty=method))+
xlab('Sketch size (out of 68K)')+
ylab('Hausdorff distance')+
scale_linetype_discrete(name='Other methods')+
scale_color_discrete(name='FastBall VP-tree \nbuilding dimension')+
ggtitle('PBMC data Hausdorff distances')
pbmc_temp %>%
filter(method %in% c('PC-sketch','gs','Far traversal')) %>%
ggplot(aes(x=N, y=max_min_dist))+
coord_cartesian(xlim=c(0,10000))+
geom_line(aes(lty=method))+
xlab('Sketch size (out of 68K)')+
ylab('Hausdorff distance')+
scale_linetype_discrete(name='Other methods')+
scale_color_discrete(name='FastBall VP-tree \nbuilding dimension')+
ggtitle('PBMC data Hausdorff distances')
pbmc_temp %>%
filter(method %in% c('PC-sketch','gs','Far traversal')) %>%
ggplot(aes(x=N, y=max_min_dist))+
coord_cartesian(xlim=c(0,10000))+
geom_line(aes(lty=method))+
xlab('Sketch size (out of 68K)')+
ylab('Hausdorff distance')
pbmc_temp %>%
filter(method %in% c('PC-sketch','gs','Far traversal'))
pbmc_temp %>%
filter(method %in% c('PC-sketch','gs','Far traversal')) %>% View()
table(pbmc_sketch$method)
table(pbmc_temp$method)
pbmc_temp %>%
filter(method %in% c('PC-Sketch','gs','Far traversal')) %>%
ggplot(aes(x=N, y=max_min_dist))+
coord_cartesian(xlim=c(0,10000))+
geom_line(aes(lty=method))+
xlab('Sketch size (out of 68K)')+
ylab('Hausdorff distance')
pbmc_temp %>%
filter(method %in% c('PC-Sketch','gs','Far traversal', 'fastball'), DIMRED %in% c(NA, 100)) %>%
ggplot(aes(x=N, y=max_min_dist))+
coord_cartesian(xlim=c(0,10000))+
geom_line(aes(lty=method))+
xlab('Sketch size (out of 68K)')+
ylab('Hausdorff distance')
pbmc_temp %>%
filter(method %in% c('PC-Sketch','gs','Far traversal', 'fastball'), DIMRED %in% c(NA, 100)) %>%
ggplot(aes(x=N, y=max_min_dist))+
coord_cartesian(xlim=c(0,10000))+
geom_line(aes(lty=method))+
xlab('Sketch size (out of 68K)')+
ylab('Hausdorff distance')+
scale_linetype_discrete(labels=c('FT-Tree Sampling','FT-sampling \n (very slow, 2-approx)', 'Geometric Sketching', 'PC-sketching'))+
pbmc_temp %>%
filter(method %in% c('PC-Sketch','gs','Far traversal', 'fastball'), DIMRED %in% c(NA, 100)) %>%
ggplot(aes(x=N, y=max_min_dist))+
coord_cartesian(xlim=c(0,10000))+
geom_line(aes(lty=method))+
xlab('Sketch size (out of 68K)')+
ylab('Hausdorff distance')+
scale_linetype_discrete(labels=c('FT-Tree Sampling','FT-sampling \n (very slow, 2-approx)', 'Geometric Sketching', 'PC-sketching'))+
dev.off()
pbmc_temp %>%
filter(method %in% c('PC-Sketch','gs','Far traversal', 'fastball'), DIMRED %in% c(NA, 100)) %>%
ggplot(aes(x=N, y=max_min_dist))+
coord_cartesian(xlim=c(0,10000))+
geom_line(aes(lty=method))+
xlab('Sketch size (out of 68K)')+
ylab('Hausdorff distance')+
scale_linetype_discrete(labels=c('FT-Tree Sampling','FT-sampling \n (very slow, 2-approx)', 'Geometric Sketching', 'PC-sketching'))+
pbmc_temp %>%
filter(method %in% c('PC-Sketch','gs','Far traversal', 'fastball'), DIMRED %in% c(NA, 100)) %>%
ggplot(aes(x=N, y=max_min_dist))+
coord_cartesian(xlim=c(0,10000))+
geom_line(aes(lty=method))+
xlab('Sketch size (out of 68K)')+
ylab('Hausdorff distance')+
scale_linetype_discrete(labels=c('FT-Tree Sampling','FT-sampling \n (very slow, 2-approx)',
'Geometric Sketching', 'PC-sketching'))
pbmc_temp %>%
filter(method %in% c('PC-Sketch','gs','Far traversal', 'fastball'), DIMRED %in% c(NA, 100)) %>%
ggplot(aes(x=N, y=max_min_dist))+
coord_cartesian(xlim=c(0,10000))+
geom_line(aes(lty=method))+
xlab('Sketch size (out of 68K)')+
ylab('Hausdorff distance')+
scale_linetype_discrete(labels=c('FT-Tree Sampling','FT-sampling \n (very slow, 2-approx)',
'Geometric Sketching', 'PC-sketching'))
pbmc_temp %>%
filter(method %in% c('PC-Sketch','gs','Far traversal', 'fastball'), DIMRED %in% c(NA, 100)) %>%
ggplot(aes(x=N, y=max_min_dist))+
coord_cartesian(xlim=c(0,10000))+
geom_line(aes(color=method))+
xlab('Sketch size (out of 68K)')+
ylab('Hausdorff distance')+
scale_color_discrete(labels=c('FT-Tree Sampling','FT-sampling \n (very slow, 2-approx)',
'Geometric Sketching', 'PC-sketching'))
pbmc_temp %>%
filter(method %in% c('PC-Sketch','gs','Far traversal', 'fastball'), DIMRED %in% c(NA, 100)) %>%
ggplot(aes(x=N, y=max_min_dist))+
coord_cartesian(xlim=c(0,10000))+
geom_line(aes(color=method))+
xlab('Sketch size (out of 68K)')+
ylab('Hausdorff distance')+
scale_color_discrete(labels=c('FT-Tree Sampling','Ball sampling \n (very slow, 2-approx)',
'Geometric Sketching', 'PC-sketching'))
pbmc_temp %>%
filter(method %in% c('PC-Sketch','gs','Far traversal', 'fastball'), DIMRED %in% c(NA, 100)) %>%
ggplot(aes(x=N, y=max_min_dist))+
coord_cartesian(xlim=c(0,10000))+
geom_line(aes(color=method))+
xlab('Sketch size (out of 68K)')+
ylab('Hausdorff distance')+
scale_color_discrete(labels=c('FT-Tree Sampling','Ball sampling \n(very slow, 2-approx)',
'Geometric Sketching', 'PC-sketching'))
pbmc_temp %>%
filter(method %in% c('PC-Sketch','gs','Far traversal', 'fastball'), DIMRED %in% c(NA, 100)) %>%
ggplot(aes(x=N, y=time))+
coord_cartesian(xlim=c(0,10000))+
geom_line(aes(color=method))+
xlab('Sketch size (out of 68K)')+
ylab('Hausdorff distance')+
scale_color_discrete(labels=c('FT-Tree Sampling','Ball sampling \n(very slow, 2-approx)',
'Geometric Sketching', 'PC-sketching'))
pbmc_temp %>%
filter(method %in% c('PC-Sketch','gs','Far traversal', 'fastball'), DIMRED %in% c(NA, 100)) %>%
ggplot(aes(x=N, y=time))+
coord_cartesian(xlim=c(0,10000), ylim=c(0,1000))+
geom_line(aes(color=method))+
xlab('Sketch size (out of 68K)')+
ylab('Hausdorff distance')+
scale_color_discrete(labels=c('FT-Tree Sampling','Ball sampling \n(very slow, 2-approx)',
'Geometric Sketching', 'PC-sketching'))
pbmc_temp %>%
filter(method %in% c('PC-Sketch','gs','Far traversal', 'fastball'), DIMRED %in% c(NA, 100)) %>%
ggplot(aes(x=N, y=time))+
coord_cartesian(xlim=c(0,10000), ylim=c(0,250))+
geom_line(aes(color=method))+
xlab('Sketch size (out of 68K)')+
ylab('Hausdorff distance')+
scale_color_discrete(labels=c('FT-Tree Sampling','Ball sampling \n(very slow, 2-approx)',
'Geometric Sketching', 'PC-sketching'))
pbmc_temp %>%
filter(method %in% c('PC-Sketch','gs','Far traversal', 'fastball'), DIMRED %in% c(NA, 100)) %>%
group_by(method,N) %>%
summarize(time=mean(time))
pbmc_temp %>%
filter(method %in% c('PC-Sketch','gs','Far traversal', 'fastball'), DIMRED %in% c(NA, 100)) %>%
group_by(method,N) %>%
summarize(time=mean(time)) %>%
ggplot(aes(x=N, y=time))+
coord_cartesian(xlim=c(0,10000), ylim=c(0,250))+
geom_line(aes(color=method))+
xlab('Sketch size (out of 68K)')+
ylab('Hausdorff distance')+
scale_color_discrete(labels=c('FT-Tree Sampling','Ball sampling \n(very slow, 2-approx)',
'Geometric Sketching', 'PC-sketching'))
pbmc_temp %>%
filter(method %in% c('PC-Sketch','gs','Far traversal', 'fastball'), DIMRED %in% c(NA, 100)) %>%
group_by(method,N) %>%
summarize(time=mean(time)) %>%
ggplot(aes(x=N, y=time))+
coord_cartesian(xlim=c(0,20000), ylim=c(0,250))+
geom_line(aes(color=method))+
xlab('Sketch size (out of 68K)')+
ylab('Hausdorff distance')+
scale_color_discrete(labels=c('FT-Tree Sampling','Ball sampling \n(very slow, 2-approx)',
'Geometric Sketching', 'PC-sketching'))
pdf('~/Documents/bergerlab/pbmc_hausdorff_tests.pdf', 8,5)
pbmc_temp %>%
filter(method %in% c('PC-Sketch','gs','Far traversal', 'fastball'), DIMRED %in% c(NA, 100)) %>%
ggplot(aes(x=N, y=max_min_dist))+
coord_cartesian(xlim=c(0,10000))+
geom_line(aes(color=method))+
xlab('Sketch size (out of 68K)')+
ylab('Hausdorff distance')+
scale_color_discrete(labels=c('FT-Tree Sampling','Ball sampling \n(very slow, 2-approx)',
'Geometric Sketching', 'PC-sketching'))
dev.off()
pbmc_temp %>%
filter(method %in% c('PC-Sketch','gs','Far traversal', 'fastball'), DIMRED %in% c(NA, 100)) %>%
ggplot(aes(x=N, y=max_min_dist))+
coord_cartesian(xlim=c(0,10000))+
geom_line(aes(color=method))+
xlab('Sketch size (out of 68K)')+
ylab('Hausdorff distance')+
scale_color_discrete(labels=c('FT-Tree Sampling','Ball sampling \n(very slow, 2-approx)',
'Geometric Sketching', 'PC-sketching'))+
ggtitle('PBMC Hausdorff Distances')
pbmc_temp %>%
filter(method %in% c('PC-Sketch','gs','Far traversal', 'fastball'), DIMRED %in% c(NA, 100)) %>%
group_by(method,N) %>%
summarize(time=mean(time)) %>%
ggplot(aes(x=N, y=time))+
coord_cartesian(xlim=c(0,20000), ylim=c(0,250))+
geom_line(aes(color=method))+
xlab('Sketch size (out of 68K)')+
ylab('Hausdorff distance')+
scale_color_discrete(labels=c('FT-Tree Sampling','Ball sampling \n(very slow, 2-approx)',
'Geometric Sketching', 'PC-sketching'))+
ggtitle('PBMC Runtimes')
pdf('~/Documents/bergerlab/pbmc_hausdorff_tests.pdf', 8,5)
pbmc_temp %>%
filter(method %in% c('PC-Sketch','gs','Far traversal', 'fastball'), DIMRED %in% c(NA, 100)) %>%
ggplot(aes(x=N, y=max_min_dist))+
coord_cartesian(xlim=c(0,10000))+
geom_line(aes(color=method))+
xlab('Sketch size (out of 68K)')+
ylab('Hausdorff distance')+
scale_color_discrete(labels=c('FT-Tree Sampling','Ball sampling \n(very slow, 2-approx)',
'Geometric Sketching', 'PC-sketching'))+
ggtitle('PBMC Hausdorff Distances')
dev.off()
pdf('~/Documents/bergerlab/pbmc_time_tests.pdf',8,5)
pbmc_temp %>%
filter(method %in% c('PC-Sketch','gs','Far traversal', 'fastball'), DIMRED %in% c(NA, 100)) %>%
group_by(method,N) %>%
summarize(time=mean(time)) %>%
ggplot(aes(x=N, y=time))+
coord_cartesian(xlim=c(0,20000), ylim=c(0,250))+
geom_line(aes(color=method))+
xlab('Sketch size (out of 68K)')+
ylab('Hausdorff distance')+
scale_color_discrete(labels=c('FT-Tree Sampling','Ball sampling \n(very slow, 2-approx)',
'Geometric Sketching', 'PC-sketching'))+
ggtitle('PBMC Runtimes')
dev.off()
pdf('~/Documents/bergerlab/pbmc_hausdorff_tests.pdf', 5,4)
pbmc_temp %>%
filter(method %in% c('PC-Sketch','gs','Far traversal', 'fastball'), DIMRED %in% c(NA, 100)) %>%
ggplot(aes(x=N, y=max_min_dist))+
coord_cartesian(xlim=c(0,10000))+
geom_line(aes(color=method))+
xlab('Sketch size (out of 68K)')+
ylab('Hausdorff distance')+
scale_color_discrete(labels=c('FT-Tree Sampling','Ball sampling \n(very slow, 2-approx)',
'Geometric Sketching', 'PC-sketching'))+
ggtitle('PBMC Hausdorff Distances')
dev.off()
pdf('~/Documents/bergerlab/pbmc_time_tests.pdf',5,4)
pbmc_temp %>%
filter(method %in% c('PC-Sketch','gs','Far traversal', 'fastball'), DIMRED %in% c(NA, 100)) %>%
group_by(method,N) %>%
summarize(time=mean(time)) %>%
ggplot(aes(x=N, y=time))+
coord_cartesian(xlim=c(0,20000), ylim=c(0,250))+
geom_line(aes(color=method))+
xlab('Sketch size (out of 68K)')+
ylab('Hausdorff distance')+
scale_color_discrete(labels=c('FT-Tree Sampling','Ball sampling \n(very slow, 2-approx)',
'Geometric Sketching', 'PC-sketching'))+
ggtitle('PBMC Runtimes')
dev.off()
mb_others = fread('target/experiments/mouse_brain_ft_backup.txt')
colnames(mb_fb)
mb_pc = fread('target/experiments/mouse_brain_PCALSH_hausdorff_backup.txt')
mb_fb=fread('target/experiments/mouse_brain_fastball_fulldim_backup.txt')
mb_fb$N = mb_fb$occSquares
mb_pc = fread('target/experiments/mouse_brain_PCALSH_hausdorff_backup.txt')
mb_pc$N = mb_pc$occSquares
mb_ft = fread('target/experiments/mouse_brain_ft_backup.txt')
mb_temp %>% merge(mb_fb, mb_others, all=TRUE)
mb_all = merge(mb_temp,mb_ft,all=TRUE)
mb_temp = merge(mb_fb, mb_others, all=TRUE)
mb_all = merge(mb_temp,mb_ft,all=TRUE)
View(mb_all)
mb_all %>% ggplot(aes(x=N, y=time, color=method)) +
geom_line()
mb_gs = fread('target/experiments/mouse_brain_gsLSH_FINAL_1.txt')
mb_fb=fread('target/experiments/mouse_brain_fastball_fulldim_backup.txt')
mb_fb$N = mb_fb$occSquares
mb_pc = fread('target/experiments/mouse_brain_PCALSH_hausdorff_backup.txt')
mb_pc$N = mb_pc$occSquares
mb_pc$method = rep('PC-sketch', nrow(mb_pc))
mb_ft = fread('target/experiments/mouse_brain_ft_backup.txt')
mb_ft$method = rep('FT-sketch',nrow(mb_ft))
mb_gs = fread('target/experiments/mouse_brain_gsLSH_FINAL_1.txt')
mb_gs$method = rep('Geometric sketching', nrow(mb_gs))
mb_temp = merge(mb_fb, mb_gs, all=TRUE)
mb_all = merge(mb_temp,mb_ft,all=TRUE)
mb_fb=fread('target/experiments/mouse_brain_fastball_fulldim_backup.txt')
mb_fb$N = mb_fb$occSquares
mb_pc = fread('target/experiments/mouse_brain_PCALSH_hausdorff_backup.txt')
mb_pc$N = mb_pc$occSquares
mb_pc$method = rep('PC-sketch', nrow(mb_pc))
mb_ft = fread('target/experiments/mouse_brain_ft_backup.txt')
mb_ft$method = rep('FT-sketch',nrow(mb_ft))
mb_gs = fread('target/experiments/mouse_brain_gsLSH_FINAL_1.txt')
mb_gs$method = rep('Geometric sketching', nrow(mb_gs))
mb_gs$N = mb_gs$occSquares
mb_temp = merge(mb_fb, mb_gs, all=TRUE)
mb_all = merge(mb_temp,mb_ft,all=TRUE)
mb_temp = merge(mb_fb, mb_gs, all=TRUE)
colnames(mb_temp)
mb_all = merge(mb_temp,mb_ft,all=TRUE)
mb_temp = merge(mb_pc, mb_gs, all=TRUE)
mb_all = merge(mb_temp,mb_ft,all=TRUE)
colnames(mb_temp)
colnames(mb_ft)
?merge
mb_all = merge(data.frame(mb_temp),mb_ft,all=TRUE)
mb_all %>% ggplot(aes(x=N, y=time, color=method)) +
geom_line()
mb_ft = fread('target/experiments/mouse_brain_ft_haus_backup.txt')
mb_ft$method = rep('FT-sketch',nrow(mb_ft))
mb_gs = fread('target/experiments/mouse_brain_gsLSH_FINAL_1.txt')
mb_gs$method = rep('Geometric sketching', nrow(mb_gs))
mb_gs$N = mb_gs$occSquares
mb_temp = merge(mb_pc, mb_gs, all=TRUE)
mb_all = merge(data.frame(mb_temp),mb_ft,all=TRUE)
mb_all %>% ggplot(aes(x=N, y=time, color=method)) +
geom_line()
mb_all %>% ggplot(aes(x=N, y=max_min_dist,color=method))
mb_all %>% ggplot(aes(x=N, y=max_min_dist,color=method))+
geom_line()
mb_all %>% ggplot(aes(x=N, y=max_min_dist,color=method))+
geom_line()+
scale_color_discrete(labels=c('FT-Tree Sampling','Geometric Sketching','PC-sketching'))
mb_all %>% ggplot(aes(x=N, y=max_min_dist,color=method))+
geom_line()+
scale_color_discrete(labels=c('FT-Tree Sampling','Geometric Sketching','PC-sketching'))+
ggtitle('Mouse Brain data')
pdf('~/Desktop/mb_haus.pdf', 6,4)
mb_all %>% ggplot(aes(x=N, y=max_min_dist,color=method))+
geom_line()+
scale_color_discrete(labels=c('FT-Tree Sampling','Geometric Sketching','PC-sketching'))+
ggtitle('Mouse Brain data')
dev.off()
mb_ft = fread('target/experiments/mouse_brain_ft_backup.txt')
mb_ft$method = rep('FT-sketch',nrow(mb_ft))
mb_gs = fread('target/experiments/mouse_brain_gsLSH_FINAL_1.txt')
mb_gs$method = rep('Geometric sketching', nrow(mb_gs))
mb_gs$N = mb_gs$occSquares
mb_temp = merge(mb_pc, mb_gs, all=TRUE)
mb_all = merge(data.frame(mb_temp),mb_ft,all=TRUE)
mb_all %>% ggplot(aes(x=N, y=time, color=method)) +
geom_line()
mb_all %>% ggplot(aes(x=N, y=time,color=method))+
geom_line()+
scale_color_discrete(labels=c('FT-Tree Sampling','Geometric Sketching','PC-sketching'))+
ggtitle('Mouse Brain data')
pdf('~/Desktop/mb_time.pdf', 6,4)
mb_all %>% ggplot(aes(x=N, y=time,color=method))+
geom_line()+
scale_color_discrete(labels=c('FT-Tree Sampling','Geometric Sketching','PC-sketching'))+
ggtitle('Mouse Brain Runtimes')
dev.off()
mb_ft = fread('target/experiments/mouse_brain_ft_haus_backup.txt')
mb_ft$method = rep('FT-sketch',nrow(mb_ft))
mb_gs = fread('target/experiments/mouse_brain_gsLSH_FINAL_1.txt')
mb_gs$method = rep('Geometric sketching', nrow(mb_gs))
mb_gs$N = mb_gs$occSquares
mb_temp = merge(mb_pc, mb_gs, all=TRUE)
mb_all = merge(data.frame(mb_temp),mb_ft,all=TRUE)
pdf('~/Desktop/mb_haus.pdf', 6,4)
mb_all %>% ggplot(aes(x=N, y=max_min_dist,color=method))+
geom_line()+
scale_color_discrete(labels=c('FT-Tree Sampling','Geometric Sketching','PC-sketching'))+
ggtitle('Mouse Brain Hausdorff Distances')
dev.off()
library(ggplot)
library(ggplot2)
zheng = fread('~/Desktop/GSE98638_HCC.TCell.S4070.norm.centered.txt')
View(zheng)
